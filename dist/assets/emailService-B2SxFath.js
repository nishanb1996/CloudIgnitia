class t{constructor(){this.serviceId="service_wkhtl5s",this.templateId="template_uem5cjd",this.publicKey="roIaQ8s4L8cOM_Mr_",this.initialized=!1}async initialize(){if(!this.initialized)try{window.emailjs||await this.loadEmailJS(),window.emailjs&&this.publicKey!=="your_public_key"&&(window.emailjs.init(this.publicKey),this.initialized=!0,console.log("EmailJS initialized successfully"))}catch(e){console.error("Failed to initialize EmailJS:",e)}}loadEmailJS(){return new Promise((e,i)=>{const s=document.createElement("script");s.src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js",s.onload=e,s.onerror=i,document.head.appendChild(s)})}async sendContactForm(e){this.initialized||(await this.initialize(),await new Promise(i=>setTimeout(i,1e3)));try{const i={from_name:e.name,from_email:e.email,company:e.company||"Not specified",phone:e.phone||"Not provided",service:e.service||"General inquiry",message:e.message||"No message provided",reply_to:e.email,submitted_at:new Date().toLocaleString()},s=await window.emailjs.send(this.serviceId,this.templateId,i);return console.log("Email sent successfully:",s),{success:!0,response:s}}catch(i){return console.error("Email send failed:",i),{success:!1,error:i}}}async sendViaFormspree(e){try{if((await fetch("https://formspree.io/f/your-form-id",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name,email:e.email,company:e.company,phone:e.phone,service:e.service,message:e.message,_subject:`New contact form submission from ${e.name}`})})).ok)return{success:!0};throw new Error("Failed to send via Formspree")}catch(i){return console.error("Formspree send failed:",i),{success:!1,error:i}}}}const r=new t;export{t as EmailService,r as emailService};
